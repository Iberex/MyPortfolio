---
import Markdown from "../../layouts/Markdown.astro";
import { getCollection, render } from "astro:content";

// 1. Genereer een nieuw pad voor elke collectie entry
export async function getStaticPaths() {
    const tutorials = await getCollection("tutorials");
    return tutorials.map((tutorial) => ({
        params: { ID: tutorial.id },
        props: { tutorial },
    }));
}
// 2. Haal het entry direct uit de prop
const { tutorial } = Astro.props;
const { Content } = await render(tutorial);
---

<Markdown>
  <div slot="top">
    <a href="/#tutorials">Tutorials</a>
    <h1><span>{tutorial.data.title}</span></h1>
  </div>

  <Content />

  <div slot="sidebar">
    {tutorial.data.image && (
      <img
        width="300"
        height="300"
        src={tutorial.data.image}
        alt="tutorial image"
        class="image"
      />
    )}
  </div>
</Markdown>

<style>
  a {
    display: block;
    margin-bottom: var(--sp-m);
  }
</style>